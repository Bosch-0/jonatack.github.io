<!--

jon atack bitcoin core developer and protocol researcher

-->
<!DOCTYPE html>
<html lang="en">
  <head>
    <title>jon atack - Reviewing is Voting</title>
    <meta charset="utf-8">
    <base target="_blank">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" type="text/css" href="/style.css" />
  </head>

  <body>
    <div id="content">
      <div id="right">
        <div class="list">
          <ul>
            <li>
              <a href="/" target="_self">home</a>
            </li>
            <li>
              <a href="/articles" target="_self">articles</a>
            </li>
            <li>
              <a href="/presentations" target="_self">presentations</a>
            </li>
            <li>
              <a href="/sponsors" target="_self">sponsors</a>
            </li>
            <li>
              <a href="/contact" target="_self">contact</a>
            </li>
            <li>
              <a href="/donate" target="_self">donate</a>
            </li>
            <li>
              &nbsp;
            </li>
            <li class="small">
              style:<br>
              <a href="https://basicbitch.software" class="small" target="_blank">basicbitch.software</a>
            </li>
          </ul>
        </div>
        <div class="namecap">
          <a href="/" target="_self">&nbsp;jon&nbsp;<br>atack</a>
        </div>
      </div>

      <div id="entry_block">
        <div class="entry">
          <div class="date">Last updated: 7 February 2020</div>
          <div class="body">
            <article>
              <div class="title">Reviewing is Voting</div>

              <h3 id="before-you-begin">ON CHOOSING PRs TO REVIEW</h3>

              <p>
                Reviewing is not only the most effective way to contribute as a
                new contributor, it is also a powerful form of voting. Just as
                what we buy and do every day is the strongest way we can vote
                and influence things, our review choices matter profoundly and
                cumulatively.
              </p>
              <h4 id="the-current-state-of-affairs">The Current State of Affairs</h4>
              <p>
                <a href="https://github.com/bitcoin/bitcoin/pulls"
                   target="_blank">Several hundred pull requests</a>
                are open at any given moment in Bitcoin Core waiting for review
                and testing, and the stack continues to grow higher -- 280 in
                November 2019, 350 at the end of January 2020!
              </p>
              <p>
                Review is currently not keeping pace with PRs. The same is true
                for
                <a href="https://github.com/bitcoin/bitcoin/issues"
                   target="_blank">open issues</a>,
                which are also up to nearly 800, from 700 a few months ago.
              </p>
              <p>
                Worse, the PRs that tend to get reviewed and merged quickly are
                the trivial, the easiest to review, and the newest.
              </p>
              <p>
                Valuable, high-priority PRs can be seen sitting for months or
                even years without enough reviewers, subjecting their authors to
                frustration, discouragement, and rebase hell until they abandon
                working on them.
              </p>
              <p>
                The number of experienced people doing good, consistent review
                is surprisingly low. On any given day, we see the same 5-15
                people reviewing on a daily basis. Of these, maybe a bit more
                than half have the experience, finances and predisposition to
                tackle review of the harder or larger PRs. That leaves us with
                <strong>roughly ten consistent reviewers</strong> present most
                days -- and some days it's less than five.
              </p>
              <p>
                When I describe this situation to people, even to established
                VCs in the Bitcoin space, they tend to be astonished at how few
                people the system is depending on.
              </p>

              <h4 id="current-issues">Current Issues</h4>
              <p>
                This state of affairs creates several problems:
                <ol>
                  <li>
                    High-priority, larger, or harder-to-review PRs can go for
                    months (and even years) without sufficient review.
                  </li>
                  <li>
                    Smaller PRs that provide important, non-urgent prevention,
                    like adding missing test coverage, can sit for months
                    without review or being merged.
                  </li>
                  <li>
                    Preventative test coverage tends to be underappreciated
                    until the missing coverage causes pain from a bug,
                    regression, or vulnerability.
                  </li>
                  <li>
                    Any PR of non-immediate urgency beyond a fairly small size
                    or low level of complexity needs to be separated into
                    bite-sized PRs that are easier to review.
                  </li>
                  <li>
                    Grease (review, merges) sometimes goes to the squeaky
                    wheel. Such is life.
                  </li>
                  <li>
                    PR authors may be incentivized to open more trivial and
                    smaller PRs that have a better chance of being reviewed and
                    merged within a reasonable time (until the author tires of
                    making this sort of contribution and aspires to greater
                    things, before being discouraged again). Though arguably
                    smaller, focused PRs are a good thing.
                  </li>
                  <li>
                    Things tend to be abandoned or never quite finished. Some
                    contributors leave or take long periods of absence from the
                    project out of frustration. Other shake it off but feel
                    recurring discouragement. Yes, it's open source. But we can
                    improve the situation.
                  </li>
                  <li>
                    Managing context, relevance, and building review alliances
                    can make a huge difference. Bitcoin Core code review
                    arguably represents a micro-economy of sorts. Getting your
                    PRs reviewed without being too annoying (hopefully by
                    helping others and doing consistent review yourself) can be
                    an art.
                  </li>
                  <li>
                    Nevertheless, we're running a continual risk of
                    mal-investment -- scarce review resources going to the
                    half-baked things that will wind up closed anyway, rather
                    than catching a regression or vulnerability, fixing issues,
                    improving test coverage, finishing up ongoing work that
                    needed follow-ups, doing long-term work, and other
                    priorities.
                  </li>
                  <li>
                    Above all, not enough contributors do consistent review and
                    follow the rule of thumb of 5-15 reviews or issues handled
                    per PR opened.
                  </li>
                </ol>
              </p>
              <h4 id="reviewing-is-voting">Reviewing is Voting</h4>
              <p>
                Given this state of affairs, clearly, which PRs we review with
                our limited time is an important choice, and one that might be
                underappreciated.
              </p>
              <p>
                The PRs we review represent:
                <ul>
                  <li>
                    what areas we contribute to
                  </li>
                  <li>
                    which project priorities matter to us
                  </li>
                  <li>
                    what kind of PRs we incentivize
                  </li>
                  <li>
                    ultimately, which behavior we reward
                  </li>
                </ul>
              </p>
              <p>
                Nowadays, I try to pay a considerable amount of attention to
                consciously selecting the right PRs to review. Here are my
                current criteria:
                <ul>
                  <li>
                    What: choosing high-priority, higher-value, harder PRs over
                    new/easy/annoying ones (knowing that those will see review
                    anyway) unless they are urgent, interesting, or an area I
                    know well.
                  </li>
                  <li>
                    Who: rewarding people who do quality review or
                    issue-testing. I set the bar much higher if they are
                    professional Bitcoin Core contributors, e.g. receiving a
                    steady salary to work on Bitcoin open source.
                  </li>
                </ul>
              </p>
              <p>
                Sure, coding, writing mailing list posts, and doing research is
                more fun and glorifying than reviewing. I totally get that. But
                reviewing is too vital to Bitcoin Core, and when I see time
                asked for by people adding PRs who don't try to review or test
                (it takes time to become good at it -- no shame in learning and
                striving), I keep thinking about the review resources those PRs
                are taking away. <em>We need to reward reviewing and
                testing.</em>
              </p>
              <p>
                Hopefully the review club can help encourage more reviewing, but
                I'm thinking about how else we can encourage it, add incentives
                or social norms maybe, etc. These are good things to think
                about.
              </p>
              <h4 id="what-to-do">What To Do</h4>
              <p>
                Continue to do more reviewing and testing than adding PRs to the
                backlog. Reviewing 5 to 15 PRs (or testing 5-15 issues) for
                every PR you open is a good range. Communicate that norm to
                people.
              </p>
              <p>
                Choose PRs to review carefully. Don't squander time, diligence
                and care on the technical equivalent of junk food. Don't reward
                half-done or selfish work.
              </p>
              <p>
                Above all, don't incentivize unexceptional PRs added to the
                stack by authors who aren't giving back by reviewing
                consistently and commensurately.
              </p>
              <p>
                Happy contributing!
              </p>
              <p>Cheers,</p>
              <p>Jon Atack</p>
            </article>
          </div>
        </div>
      </div>
    </div>
  </body>
</html>
